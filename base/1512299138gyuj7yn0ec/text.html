<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Здесь лишь часть.</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">1. <span style=" font-weight:600;">Декомпозиция при объявлении</span> (англ. structural bindings)</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#a626a4;">int</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42;"> </span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#4078f2;">main</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">    </span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#c18401;">std</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">::</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#c18401;">map</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">&lt;</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#c18401;">std</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">::</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#c18401;">string</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">, </span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#c18401;">std</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">::</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#c18401;">string</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">&gt; </span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#c18401;">map</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">    </span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#a626a4;">auto</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;"> [iterator1, succeed1] = </span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#c18401;">map</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">.try_emplace(</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#50a14f;">&quot;key&quot;</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">, </span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#50a14f;">&quot;abc&quot;</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">);</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">    </span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; font-style:italic; color:#a0a1a7;">// Вы можете раскладывать key и value прямо в range-based for</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">    </span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#a626a4;">for</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;"> (</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#a626a4;">auto</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">&amp;&amp; [key, value] : </span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#c18401;">map</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">    {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">        </span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#c18401;">std</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">::</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#c18401;">cout</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;"> &lt;&lt; key &lt;&lt; </span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#50a14f;">&quot;: &quot;</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;"> &lt;&lt; value &lt;&lt; </span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#50a14f;">&quot;\n&quot;</span><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">    }</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42; background-color:#fbfdff;">}</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Menlo,Monaco,Courier New,monospace'; font-size:14px; color:#383a42;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;">2. </span><span style=" font-size:14px; font-weight:600; color:#383a42; background-color:#fbfdff;">Атрибуты nodiscard, fallthrough, maybe_unused</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:14px; font-weight:600; color:#383a42;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;">Завершайте все блоки case, кроме последнего, либо атрибутом </span><span style=" font-size:14px; font-weight:600; font-style:italic; color:#383a42; background-color:#fbfdff;">[[fallthrough]]</span><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;">, либо инструкцией break;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;">Используйте </span><span style=" font-size:14px; font-weight:600; font-style:italic; color:#383a42; background-color:#fbfdff;">[[nodiscard]]</span><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;"> для функций, возвращающих код ошибки или владеющий указатель (неважно, умный или нет).</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;">Используйте </span><span style=" font-size:14px; font-weight:600; font-style:italic; color:#383a42; background-color:#fbfdff;">[[maybe_unused]]</span><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;"> для переменных, которые нужны только для проверки в assert.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:14px; color:#383a42;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;">3. </span><span style=" font-size:14px; font-weight:600; color:#383a42; background-color:#fbfdff;">Классы optional и variant</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:14px; color:#383a42;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;">Предпочитайте </span><span style=" font-size:14px; font-weight:600; font-style:italic; color:#383a42; background-color:#fbfdff;">optional&lt;T&gt;</span><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;"> вместо unique_ptr&lt;T&gt; для композиции объекта T, время жизни которого короче времени жизни владельца.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;">для PIMPL используйте unique_ptr&lt;Impl&gt;, потому что определение Impl скрыто в файле реализации класса.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:14px; color:#383a42;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;">Используйте </span><span style=" font-size:14px; font-weight:600; font-style:italic; color:#383a42; background-color:#fbfdff;">тип variant</span><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;"> вместо any везде, где это возможно. И вместо enum (но не всегда).</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:14px; color:#383a42;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;">4. </span><span style=" font-size:14px; font-weight:600; color:#383a42; background-color:#fbfdff;">Используйте функции std::size, std::data, std::begin, std::end</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:14px; color:#383a42;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;">Используйте </span><span style=" font-size:14px; font-weight:600; font-style:italic; color:#383a42; background-color:#fbfdff;">std::size</span><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;"> для измерения длины C-style массива.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;">Используйте </span><span style=" font-size:14px; font-weight:600; font-style:italic; color:#383a42; background-color:#fbfdff;">std::data</span><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;"> для получения изменяемого указателя начало строки, массива или std::vector&lt;&gt;.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:14px; color:#383a42;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;">5. </span><span style=" font-size:14px; font-weight:600; color:#383a42; background-color:#fbfdff;">Используйте std::filesystem</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:14px; color:#383a42;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;">Передавайте std::filesystem::path вместо строк во всех параметрах, в которых подразумевается путь.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:14px; color:#383a42;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14px; color:#383a42; background-color:#fbfdff;">6. </span><span style=" font-size:14px; font-weight:600; color:#383a42; background-color:#fbfdff;">Прекратите переизобретать clamp, int_to_string и string_to_int</span></p></body></html>